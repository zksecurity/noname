<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Union-find implementation. The main type is `UnificationTable`."><meta name="keywords" content="rust, rustlang, rust-lang, unify"><title>ena::unify - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../main.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../ena/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../ena/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Module unify</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../ena/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><div id="settings-menu" tabindex="-1">
                                <a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div>
                        </div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Module <a href="../index.html">ena</a>::<wbr><a class="mod" href="#">unify</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/ena/unify/mod.rs.html#11-594">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Union-find implementation. The main type is <code>UnificationTable</code>.</p>
<p>You can define your own type for the <em>keys</em> in the table, but you
must implement <code>UnifyKey</code> for that type. The assumption is that
keys will be newtyped integers, hence we require that they
implement <code>Copy</code>.</p>
<p>Keys can have values associated with them. The assumption is that
these values are cheaply cloneable (ideally, <code>Copy</code>), and some of
the interfaces are oriented around that assumption. If you just
want the classical “union-find” algorithm where you group things
into sets, use the <code>Value</code> type of <code>()</code>.</p>
<p>When you have keys with non-trivial values, you must also define
how those values can be merged. As part of doing this, you can
define the “error” type to return on error; if errors are not
possible, use <code>NoError</code> (an uninstantiable struct). Using this
type also unlocks various more ergonomic methods (e.g., <code>union()</code>
in place of <code>unify_var_var()</code>).</p>
<p>The best way to see how it is used is to read the <code>tests.rs</code> file;
search for e.g. <code>UnitKey</code>.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.InPlace.html" title="ena::unify::InPlace struct">InPlace</a></div><div class="item-right docblock-short"><p>Backing store for an in-place unification table.
Not typically used directly.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.NoError.html" title="ena::unify::NoError struct">NoError</a></div><div class="item-right docblock-short"><p>A struct which can never be instantiated. Used
for the error type for infallible cases.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Snapshot.html" title="ena::unify::Snapshot struct">Snapshot</a></div><div class="item-right docblock-short"><p>At any time, users may snapshot a unification table.  The changes
made during the snapshot may either be <em>committed</em> or <em>rolled back</em>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.UnificationTable.html" title="ena::unify::UnificationTable struct">UnificationTable</a></div><div class="item-right docblock-short"><p>Table of unification keys and their values. You must define a key type K
that implements the <code>UnifyKey</code> trait. Unification tables can be used in two-modes:</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.VarValue.html" title="ena::unify::VarValue struct">VarValue</a></div><div class="item-right docblock-short"><p>Value of a unification key. We implement Tarjan’s union-find
algorithm: when two keys are unified, one of them is converted
into a “redirect” pointing at the other. These redirects form a
DAG: the roots of the DAG (nodes that are not redirected) are each
associated with a value of type <code>V</code> and a rank. The rank is used
to keep the DAG relatively balanced, which helps keep the running
time of the algorithm under control. For more information, see
<a href="http://en.wikipedia.org/wiki/Disjoint-set_data_structure">http://en.wikipedia.org/wiki/Disjoint-set_data_structure</a>.</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.EqUnifyValue.html" title="ena::unify::EqUnifyValue trait">EqUnifyValue</a></div><div class="item-right docblock-short"><p>A convenient helper for unification values which must be equal or
else an error occurs. For example, if you are unifying types in a
simple functional language, this may be appropriate, since (e.g.)
you can’t unify a type variable bound to <code>int</code> with one bound to
<code>float</code> (but you can unify two type variables both bound to
<code>int</code>).</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.UnificationStore.html" title="ena::unify::UnificationStore trait">UnificationStore</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.UnificationStoreBase.html" title="ena::unify::UnificationStoreBase trait">UnificationStoreBase</a></div><div class="item-right docblock-short"><p>Largely internal trait implemented by the unification table
backing store types. The most common such type is <code>InPlace</code>,
which indicates a standard, mutable unification table.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.UnificationStoreMut.html" title="ena::unify::UnificationStoreMut trait">UnificationStoreMut</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.UnifyKey.html" title="ena::unify::UnifyKey trait">UnifyKey</a></div><div class="item-right docblock-short"><p>This trait is implemented by any type that can serve as a type
variable. We call such variables <em>unification keys</em>. For example,
this trait is implemented by <code>IntVid</code>, which represents integral
variables.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.UnifyValue.html" title="ena::unify::UnifyValue trait">UnifyValue</a></div><div class="item-right docblock-short"><p>Trait implemented for <strong>values</strong> associated with a unification
key. This trait defines how to merge the values from two keys that
are unioned together. This merging can be fallible. If you attempt
to union two keys whose values cannot be merged, then the error is
propagated up and the two keys are not unioned.</p>
</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.InPlaceUnificationTable.html" title="ena::unify::InPlaceUnificationTable type">InPlaceUnificationTable</a></div><div class="item-right docblock-short"><p>A unification table that uses an “in-place” vector.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.UnificationStorage.html" title="ena::unify::UnificationStorage type">UnificationStorage</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.UnificationTableStorage.html" title="ena::unify::UnificationTableStorage type">UnificationTableStorage</a></div><div class="item-right docblock-short"></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="ena" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.63.0 (4b91a6ea7 2022-08-08)" ></div>
</body></html>